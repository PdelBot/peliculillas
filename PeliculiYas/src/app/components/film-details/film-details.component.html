<app-menu></app-menu>
<div class="container">
  <div class="header">
    <div class="image">
      <img [src]="getImgUrl(film?.poster_path || '')" alt="NOMBRE">
    </div>
    <div class="description">
      <div class="title1">
        <h2>{{film?.original_title}}</h2>
      </div>
      <div>
        <p class="title2" *ngIf="film?.tagline">{{ film?.tagline }}</p>
      </div>
      <div>
        <div>
          <p>{{film?.overview}}</p>
        </div>
        <div>
          <p><strong> Duración: {{film?.runtime}} min </strong></p>
        </div>
        <div>
          <p><strong> Lanzamiento: {{film?.release_date}} </strong></p>
        </div>
        <div>
          <p><strong> Calificación: ({{ film?.vote_average }} / 10) </strong> <ngb-rating class="amarillo"
              [(rate)]="rating" [max]="5" [readonly]="true"></ngb-rating> </p>
        </div>
        <div>

          @if (filmFavorite) {
          <button class="favorite-button" (click)="isAdded(filmFavorite) ? removeFromFavourites(filmFavorite) : addToFavourites(filmFavorite)">
            <label class="container-button">
              <input type="checkbox" [checked]="isAdded(filmFavorite)">
              <div class="checkmark">
                <svg viewBox="0 0 256 256">
                  <rect fill="none" height="256" width="256"></rect>
                  <path [attr.fill]="isAdded(filmFavorite) ? 'red' : 'none'" [attr.stroke]="isAdded(filmFavorite) ? 'none' : 'black'"
                    d="M224.6,51.9a59.5,59.5,0,0,0-43-19.9,60.5,60.5,0,0,0-44,17.6L128,59.1l-7.5-7.4C97.2,28.3,59.2,26.3,35.9,47.4a59.9,59.9,0,0,0-2.3,87l83.1,83.1a15.9,15.9,0,0,0,22.6,0l81-81C243.7,113.2,245.6,75.2,224.6,51.9Z"
                    stroke-width="20px"></path>
                </svg>
              </div>
            </label>
          </button>
          }

          @if (filmWatchList) {
          <button class="favorite-button" (click)="isAddedWatchList(filmWatchList) ? removeFromWatchList(filmWatchList) : addToWatchlist(filmWatchList)">
            <label class="ui-bookmark">
              <input type="checkbox">
              <div class="bookmark">
                <svg viewBox="0 0 32 32">
                  <g>
                    <path [attr.fill]="isAddedWatchList(filmWatchList) ? 'gold' : 'grey'"
                      [attr.stroke]="isAddedWatchList(filmWatchList) ? 'none' : 'black'"
                      d="M27 4v27a1 1 0 0 1-1.625.781L16 24.281l-9.375 7.5A1 1 0 0 1 5 31V4a4 4 0 0 1 4-4h14a4 4 0 0 1 4 4z">
                    </path>
                  </g>
                </svg>
              </div>
            </label>
          </button>
          }
        </div>

        <div>
          @for (item of film?.genres; track $index) {
          <div class="badge" href="#">
            {{item.name}}
            <span></span>
          </div>
          }
        </div>
        <div>
          <button class="watch-now btn btn-primary align-items-center justify-content-beetwen "
            (click)="watchTrailer()">Ver Trailer</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Sección del reparto -->
  <div class="reparto-container">
    <div class="title2"> Reparto </div>
    <div class="card-grid">

      @for (credits of listCast; track listCast.indexOf(credits)) {
      <div class="card" *ngIf="credits.profile_path && credits.name">
        <a [routerLink]="['/actores', credits.id]">
          <img [src]="getImgUrl(credits.profile_path || '')" alt="NOMBRE">
          <div class="card-text">
            <p>{{credits.name}}</p>
          </div>
        </a>
      </div>
      }
    </div>

  </div>
</div>